!function(t){var e={};function i(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(o,n,function(e){return t[e]}.bind(null,n));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=0)}([function(t,e,i){"use strict";function o(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}i.r(e);var n=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=document.getElementById("gameScreen"),this.ctx=this.canvas.getContext("2d"),this.width=this.canvas.offsetWidth,this.height=this.canvas.offsetHeight,this.dx=2,this.dy=-2,this.radius=25,this.left=Math.floor(Math.random()*(this.width-200-204)+204),this.top=Math.floor(Math.random()*(this.height-300-200)+200),this.clickHandler=this.clickHandler.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.emptyArray=this.emptyArray.bind(this),this.animatePop=this.animatePop.bind(this),this.clearScore=this.clearScore.bind(this),this.generateRandomPosition=this.generateRandomPosition.bind(this),this.bubbles=[],this.speed=5,this.canvas.requestPointerLock=this.canvas.requestPointerLock||this.canvas.mozRequestPointerLock,document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock,document.addEventListener("mousedown",this.clickHandler,!1),this.canvas.addEventListener("mousemove",this.onMouseMove,!1),this.scoreHigh=document.getElementById("highScore"),this.score=document.getElementById("score"),this.totalScore=0,this.highScore=0,this.saveHighScore="highscore"}var e,i,n;return e=t,(i=[{key:"drawRandomCircle",value:function(t){this.ctx.clearRect(0,0,1700,700),this.ctx.fillStyle="#33ccff",this.ctx.beginPath(),this.ctx.arc(t.left,t.top,25,0,2*Math.PI),this.ctx.fill(),this.bubbles.push({width:50,height:50,top:t.top,left:t.left})}},{key:"animatePop",value:function(t){if(this.canvas.requestAnimationFrame(this.animatePop(t)),this.ctx.clearRect(0,0,1700,700),this.ctx.fillStyle="#33ccff",this.ctx.beginPath(),this.ctx.arc(t.left,t.top,this.radius,0,2*Math.PI),this.ctx.fill(),this.radius-=2,0===radius){this.canvas.cancelAnimationFrame(),this.radius=25;var e=this.generateRandomPosition();this.drawRandomCircle(e)}}},{key:"updateScore",value:function(){this.score.innerText="Score: ".concat(this.totalScore)}},{key:"onMouseMove",value:function(t){var e={left:0,top:0},i=t.movementX,o=t.movementY;if(console.log(i,o),i<0){var n=this.bubbles[this.bubbles.length-1],s=n.left+this.speed;(s<0||s>this.width)&&(newbubbleX=this.width-n.left),e.left=s,console.log(s)}else if(i>0){var r=this.bubbles[this.bubbles.length-1],a=r.left-this.speed;(a<0||a>this.width)&&(newbubbleX=this.width-r.left),console.log(a),e.left=a}else{var h=this.bubbles[this.bubbles.length-1];e.left=h.left}if(o<0){var c=this.bubbles[this.bubbles.length-1],l=c.top+this.speed;(l<0||l>this.height)&&(newbubbleY=this.height-c.top),e.top=l,console.log(l)}else if(o>0){var u=this.bubbles[this.bubbles.length-1],d=u.top-this.speed;(d<0||d>this.height)&&(newbubbleY=this.height-u.top),e.top=d,console.log(d)}else{var b=this.bubbles[this.bubbles.length-1];e.top=b.top}console.log(e),this.drawRandomCircle(e)}},{key:"emptyArray",value:function(){this.bubbles.splice(0,this.bubbles.length)}},{key:"clearScore",value:function(){this.totalScore=0,this.updateScore(),this.scoreHigh.innerText="High Score: ".concat(this.highScore);var t=localStorage.getItem(this.saveHighScore);null===t?this.saveHighScore=0:this.highScore=parseInt(t)}},{key:"generateRandomPosition",value:function(){var t={left:0,top:0};return t.left=Math.floor(Math.random()*(this.width-200-204)+204),t.top=Math.floor(Math.random()*(this.height-300-200)+200),t}},{key:"clickHandler",value:function(t){var e=this;t.preventDefault(),this.bubbles.forEach((function(t){if(400>t.top&&400<t.top+t.height&&890>t.left&&890<t.left+t.width){e.totalScore+=1,e.updateScore(),e.emptyArray();var i=e.generateRandomPosition();e.drawRandomCircle(i);var o=new Audio("gunshot.mp3");o.volume=.2,o.play(),e.totalScore>e.highScore&&(e.highScore=e.totalScore,localStorage.setItem(e.saveHighScore,e.highScore),e.scoreHigh.innerText="High Score: ".concat(e.highScore))}}))}}])&&o(e.prototype,i),n&&o(e,n),t}();function s(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var r=new(function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ctx=e.getContext("2d"),this.width=e.offsetWidth,this.height=e.offsetHeight,this.start=!1,this.bubble=new n,this.left=Math.floor(Math.random()*(this.width-200-204)+204),this.top=Math.floor(Math.random()*(this.height-300-200)+200),this.time=document.getElementById("timer"),this.totalTime=60,this.startGame=this.startGame.bind(this),this.restartGame=this.restartGame.bind(this),this.restart=this.restart.bind(this),this.tick=this.tick.bind(this),document.addEventListener("keypress",this.startGame()),this.background=new Audio("background.mp3")}var e,i,o;return e=t,(i=[{key:"startGame",value:function(t){var e=this;return function(t){e.restartGame()}}},{key:"tick",value:function(){this.totalTime--,this.time.innerText="Time: ".concat(this.totalTime," seconds"),this.totalTime>0&&setTimeout(this.tick,1e3),0===this.totalTime&&this.endGame()}},{key:"restart",value:function(){this.totalTime=60,this.bubble.clearScore()}},{key:"restartGame",value:function(){document.getElementById("background").classList.remove("visible"),document.querySelector(".welcomeText").style.display="none",this.bubble.drawRandomCircle({left:this.left,top:this.top}),this.tick(),this.totalTime=60,this.bubble.clearScore(),this.background.volume=.1,this.background.play()}},{key:"endGame",value:function(){alert("Final Score: ".concat(this.bubble.totalScore)),document.getElementById("background").classList.add("visible"),document.querySelector(".welcomeText").style.display="block",this.totalTime=60,this.bubble.clearScore(),this.background.pause(),this.background.currentTime=0}}])&&s(e.prototype,i),o&&s(e,o),t}())(document.getElementById("gameScreen")),a=document.getElementById("gameModal"),h=document.getElementById("modalButton"),c=document.getElementById("close-button");h.addEventListener("click",(function(){a.style.display="block"})),c.addEventListener("click",(function(){a.style.display="none"})),document.getElementById("restart").addEventListener("click",(function(){r.restart()}))}]);
//# sourceMappingURL=main.js.map